# å­—ç¬¦ä¸²å’Œå­—ç¬¦

[https://www.cnswift.org/strings-and-characters](https://www.cnswift.org/strings-and-characters)

---

- Swift çš„Â **String**ç±»å‹æ˜¯ä¸€ç§å€¼ç±»å‹ã€‚
- Swift çš„Â **String**å’ŒÂ **Character**ç±»å‹ å®Œå…¨å…¼å®¹ Unicode ç¼–ç 
- Swift çš„Â **String**ç±»å‹æ¡¥æ¥åˆ°äº†åŸºç¡€åº“ä¸­çš„Â **NSString**ç±»ã€‚
- Foundation åŒæ—¶ä¹Ÿæ‰©å±•äº†æ‰€æœ‰Â **NSString**Â å®šä¹‰çš„æ–¹æ³•ç»™Â **String**Â ã€‚
- å¯¼å…¥Â Foundation åº“å ï¼Œå°±å¯ä»¥åœ¨Â **String**Â ä¸­è®¿é—®æ‰€æœ‰çš„Â **NSString** æ–¹æ³•ï¼Œæ— éœ€è½¬æ¢æ ¼å¼ã€‚

---

# å£°æ˜å­—ç¬¦ä¸²

- Swift å°†Â å­—é¢é‡æ˜¯ â€xxxxâ€ çš„ å¸¸é‡æ¨æ–­ç±»å‹ä¸ºÂ String
  
    ```swift
    let someString = "Some string literal value"
    ```
    
- å¤šè¡Œçš„è¾ƒé•¿å­—ç¬¦ä¸² ä½¿ç”¨  â€â€â€ xxx â€â€â€ æ¥å£°æ˜
  
    ```swift
    let quotation = """
    The White Rabbit put on his spectacles.  "Where shall I begin,
    please your Majesty?" he asked.
     
    "Begin at the beginning," the King said gravely, "and go on
    till you come to the end; then stop."
    """
    ```
    
    - â€œâ€â€ æ‰€åœ¨çš„è¡Œ ä¸ä¼šè¢«è¯†åˆ«ä¸º æ¢è¡Œ,ä½† â€œâ€â€ â€œâ€â€å†…çš„æ¢è¡Œä¼šè¢«è®°å½•åœ¨å­—ç¬¦ä¸²ä¸­
    - ä½¿ç”¨ \ è½¬ä¹‰ç¬¦å·æ¥å°†ä¸éœ€è¦çš„æ¢è¡Œç¬¦å»æ‰
    - ä»¤æ•´ä¸ªå­—ç¬¦ä¸²ä¸­çš„è½¬ä¹‰ç¬¦å·å‡å¤±æ•ˆ
        - **#"Line 1\nLine 2"#**
    - å¤šè¡Œå­—ç¬¦ä¸²çš„ç¼©è¿›çœç•¥
      
        ![æˆªå±2022-01-04_ä¸Šåˆ11.40.46](/Users/tiger/Desktop/Learning-Note_QHR/ç¼–ç¨‹è¯­è¨€-Swift/å­—ç¬¦ä¸²å’Œå­—ç¬¦.assert/æˆªå±2022-01-04_ä¸Šåˆ11.40.46.png)
        

---

# åˆå§‹åŒ–å­—ç¬¦ä¸²

- ç©ºå­—ç¬¦ä¸²
  
    ```swift
    var emptyString = ""               // empty string literal
    var anotherEmptyString = String()  // initializer syntax
    // these two strings are both empty, and are equivalent to each other
    ```
    
- isEmpty å±æ€§ æ¥ç¡®è®¤ä¸€ä¸ª Stringå€¼æ˜¯å¦ä¸ºç©ºï¼š
  
    ```swift
    if emptyString.isEmpty {
        print("Nothing to see here")
    }
    // prints "Nothing to see here"
    ```
    
- å˜é‡/å¸¸é‡å­—ç¬¦ä¸²
    - Swift ä¸­æ ¹æ® var / let åŒºåˆ†
    - Objective-C å’Œ Cocoa ä¸­ï¼Œé€šè¿‡é€‰æ‹©ä¸åŒçš„ç±»ï¼ˆÂ **NSString**å’ŒÂ **NSMutableString**ï¼‰æ¥æ˜ç¡®å­—ç¬¦ä¸²æ˜¯å¦å¯è¢«æ”¹å˜

---

# éå†å­—ç¬¦ä¸²

- ä½¿ç”¨ for-in å¾ªç¯éå† String ä¸­çš„æ‰€æœ‰ Character
  
    ```swift
    for character in "Dog!ğŸ¶ï¸" {
        print(character)
    }
    ```
    

---

# è¿æ¥å­—ç¬¦ä¸²

## ä¸¤ä¸ªå­—ç¬¦ä¸²è¿æ¥

- var welcome = string1 + string2

## å·²æœ‰å­—ç¬¦ä¸²åç»­æ¥ä¸€ä¸ªå­—ç¬¦ä¸²

- instruction += string2

## append æ–¹æ³• Character

- welcome.append(exclamationMark)
- åªèƒ½å°† Character è·Ÿåœ¨ String ä¹‹å è€Œä¸èƒ½åè¿‡æ¥

## è¿æ¥é•¿å­—ç¬¦ä¸²æ—¶çš„æ¢è¡Œç¬¦

- è‹¥è¦ä¿è¯ä¸€å®šæœ‰æ¢è¡Œç¬¦,åº”æŒ‰ç…§å³ä¾§çš„å†™æ³•

```swift
let badStart = """
one
two
"""
let end = """
three
"""
print(badStart + end)
// Prints two lines:
// one
// twothree
```

```swift
let end = """
three
"""
let goodStart = """
one
two
 
"""
print(goodStart + end)
// Prints three lines:
// one
// two
// three
```

---

# å­—ç¬¦ä¸²ä¸­æ˜¾ç¤ºè¡¨è¾¾å¼å€¼

- å­—ç¬¦ä¸²ä¸­ä½¿ç”¨å¦‚ä¸‹å½¢å¼æ˜¯å­—ç¬¦ä¸²ä¸­æ˜¾ç¤ºè¿™ä¸€è¡¨è¾¾å¼çš„å€¼
    - \(è¡¨è¾¾å¼)
- è‹¥è¯¥å­—ç¬¦ä¸²è¢«##æ‰€åŒ…è£¹,ä½†å…¶ä¸­çš„è¡¨è¾¾å¼ä»éœ€è¦æ˜¾ç¤ºå€¼,å¦‚ä¸‹æ–¹å¼å–æ¶ˆ(å–æ¶ˆè½¬ä¹‰)
  
    ```swift
    print(#"6 times 7 is \#(6 * 7)."#)
    ```
    

---

# å­—ç¬¦ä¸²ç´¢å¼•

- å¯ä»¥é€šè¿‡ String çš„ä¸‹è¡¨ç´¢å¼• å¯¹å…¶ä¸­çš„å­—ç¬¦è¿›è¡Œè®¿é—®
- String æ˜¯éµå¾ªäº†Â **Indexable**Â åè®®çš„ç±»å‹, å¯ä»¥ä½¿ç”¨ä¸‹è¡¨ç´¢å¼•è¿›è¡Œå…ƒç´ è®¿é—®ä¸”å¹¶éæ•°å­—
    - å±æ€§
        - **startIndex** String çš„åˆå§‹ä½ç½®ç´¢å¼•
        - **endIndex** String çš„ç»“å°¾ä½ç½®ç´¢å¼•
    - æ–¹æ³•
        - **index(before:)**  æŸä¸€ç´¢å¼•çš„å‰ä¸€ä½ç½®
        - **index(after:)** æŸä¸€ç´¢å¼•çš„åä¸€ä½ç½®
        - **index(_:offsetBy:)** æŸä¸€ç´¢å¼•å‘ååç§»ä¸€æ®µè·ç¦»åçš„ä½ç½®
        
        ```swift
        let greeting = "Guten Tag!"
        greeting[greeting.startIndex]    // G
        greeting[greeting.index(before: greeting.endIndex)]    // !
        greeting[greeting.index(after: greeting.startIndex)]   // u
        let index = greeting.index(greeting.startIndex, offsetBy: 7)
        greeting[index]    // a
        ```
        
    - **Array**Â ï¼ŒÂ **Dictionary**Â å’ŒÂ **Set ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ç§æ–¹æ³•è¿›è¡Œä¸‹æ ‡è®¿é—®**
- **Character** å¦‚æœç´¢å¼•ä½ç½®åœ¨å­—ç¬¦ä¸²èŒƒå›´ä¹‹å¤–ï¼Œå°±ä¼šè§¦å‘è¿è¡Œæ—¶é”™è¯¯
- ä½¿ç”¨Â **indices**å±æ€§å’Œ for å¾ªç¯ æ¥è®¿é—®å­—ç¬¦ä¸²ä¸­æ¯ä¸ªå­—ç¬¦çš„ç´¢å¼•
  
    ```swift
    for index in greeting.indices {
        print("\(greeting[index]) ", terminator: "")
    }
    ```
    

---

# å­—ç¬¦ä¸²å…ƒç´ çš„æ’å…¥å’Œåˆ é™¤

- é€šè¿‡ä¸€äº›æ–¹æ³• å¯¹å­—ç¬¦ä¸²è¿›è¡Œæ’å…¥å’Œåˆ é™¤
- String æ˜¯éµå¾ªÂ **RangeReplaceableIndexable**Â åè®®çš„ç±»å‹,å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•
    - **insert(_:at:)**Â  å°† æŸå­—ç¬¦æ’å…¥æŸç´¢å¼•ä½ç½®ä¸­
    - **insert(contentsOf:at:)**Â  å°† æŸå­—ç¬¦ä¸²æ’å…¥æŸç´¢å¼•ä½ç½®ä¸­
    - **remove(at:)**  å°† æŸç´¢å¼•ä½ç½®çš„å­—ç¬¦åˆ é™¤
    - **removeSubrange(_:)** å°† æŸç´¢å¼•èŒƒå›´çš„å­—ç¬¦ä¸²åˆ é™¤
    
    ```swift
    var welcome = "hello"
    welcome.insert("!", at: welcome.endIndex)
    // welcome now equals "hello!"
     
    welcome.insert(contentsOf: " there", at: welcome.index(before: welcome.endIndex))
    // welcome now equals "hello there!"
    welcome.remove(at: welcome.index(before: welcome.endIndex))
    // welcome now equals "hello there"
     
    let range = welcome.index(welcome.endIndex, offsetBy: -6)..<welcome.endIndex
    welcome.removeSubrange(range)
    // welcome now equals "hello"
    ```
    
    - **Array**Â ï¼ŒÂ **Dictionary**Â å’ŒÂ **Set ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ç§æ–¹æ³•è¿›è¡Œä¸‹æ ‡è®¿é—®**

---

# è·å¾—å­ä¸²

- é€šè¿‡ä¸‹è¡¨è®¿é—® / prefix(_:)Â æ–¹æ³• å¾—åˆ°çš„å­ä¸²ä¸€èˆ¬æ˜¯ **SubString ç±»å‹** çš„
- **String**Â å’ŒÂ **Substring**Â éƒ½éµå¾ªÂ [**StringProtocol**](https://developer.apple.com/documentation/swift/stringprotocol)Â åè®®,å‡½æ•°åŸºæœ¬ä¸Šå¯ä»¥é€šç”¨
- åœ¨ä½¿ç”¨æ—¶å°½å¯èƒ½å°†å…¶è½¬åŒ–ä¸º String ç±»å‹
    - å­å­—ç¬¦ä¸²å¯é‡ç”¨ä¸€éƒ¨åˆ†ç”¨æ¥ä¿å­˜åŸå­—ç¬¦ä¸²çš„å†…å­˜ï¼Œæˆ–æ˜¯ç”¨æ¥ä¿å­˜å…¶ä»–å­å­—ç¬¦ä¸²çš„å†…å­˜ã€‚
    
    ```swift
    let greeting = "Hello, world!"
    let index = greeting.index(of: ",") ?? greeting.endIndex
    let beginning = greeting[..<index]
    // beginning is "Hello" ,its type is SubString
     
    // Convert the result to a String for long-term storage.
    let newString = String(beginning)
    ```
    

---

# å­—ç¬¦ä¸²æ¯”è¾ƒ

- ==  å’Œ !=
- è§„èŒƒåŒ–ç›¸ç­‰ è¿”å› true
    - æ‰©å±•å­—å½¢é›†ç¾¤æ‹¥æœ‰ç›¸åŒçš„è¯­è¨€æ„ä¹‰å’Œå¤–å½¢çš„ä¸¤ä¸ªå­—ç¬¦
    - ç¼–ç å¯èƒ½ä¸åŒ (ç”±ä¸åŒçš„ Unicode æ ‡é‡ç»„åˆè€Œæˆ),ä¾‹å¦‚:
        - **LATINÂ SMALLÂ LETTERÂ EÂ WITHÂ ACUTE**Â (Â **U+00E9**)
        - **LATINÂ SMALLÂ LETTERÂ E**(Â **U+0065**)

# å‰åç¼€ç›¸ç­‰

- hasPrefix() å‰ç¼€
- hasSuffix() åç¼€

# å­—ç¬¦:**Character**

- **Character** å€¼èƒ½ä¸”åªèƒ½åŒ…å«ä¸€ä¸ªå­—ç¬¦

# é€šè¿‡å­—ç¬¦ Character åˆ›å»ºå­—ç¬¦ä¸² String

```swift
let catCharacters: [Character] = ["C", "a", "t", "!", "ğŸ±ï¸"]
let catString = String(catCharacters)
print(catString)
```

# ç‰¹æ®Šå­—ç¬¦

- **\0**Â (ç©ºå­—ç¬¦)
- **\\**Â (åæ–œæ )
- **\t**Â (æ°´å¹³åˆ¶è¡¨ç¬¦)
- **\n**Â (æ¢è¡Œç¬¦)
- **\r**(å›è½¦ç¬¦)
- **\"**Â (åŒå¼•å·)
- **\'**Â (å•å¼•å·)
- **\u{n}**ï¼ŒÂ **n**æ˜¯ä¸€ä¸ª 1-8 ä¸ªä¸åˆæ³• Unicode ç ä½ç›¸ç­‰çš„16è¿›åˆ¶æ•°å­—