# shell排序(分组插入排序)

- 直接插入排序的升级版，对较长序列应用插入排序思想
- 对较多数据进行分组,保证每个组内部元素较少,各组内进行插入排序

## 示例序列:

```
6,8,24,3,1,2,31,16,17,5,9,4,10
```

## 分组方式的确定:

- 连续分组:(按照序列给定的顺序进行分组,不使用)

  - ```
    6 8 24 
    ```

  - 上述序列被分到一组时,必定有元素会远离最终位置,使整体排序时间增长

- 非连续分组:

  - 每次分组时,间隔几个元素选择一个加入分组中
  - 若每个组中包含较大较小元素,都能使得其最终结果与最终位置距离较近

## 确定分组间隔:

- 分组间隔可以任意采用,便于理解,采用序列元素数二分的方法进行确定
  - 第一次分组:间隔=总元素个数除2

    - 首元素,中间元素,尾元素;

  - 第二次分组:间隔=总元素个数除4

    - ```
      0 n/4 n/2 3n/4 n-1
      ```

  - 完成**间隔数为1**的分组后,此次希尔排序结束

## 各组之内实现插入排序:

插入排序



```
void sort(int arr[],int sizearr)
   {   
       if(arr==NULL||sizearr<=0)return ;
       int gap;
       int i;
       int j;
       int k;
       int temp;
      

      // 确定间隔
      for(gap=sizearr/2;gap>=1;gap/=2)
      {
          //组
          for(i=0;i<gap;i++)
          {
              //组内各元素进行插入排序
              for(j=i+=gap;j<sizearr;j+=gap)//插入排序
              {
                  k=j-gap;//有序的最后一个元素
                  temp=arr[j];
                  //从后向前遍历有序数组   
                  while(arr[k]>temp   &&   k>=i)
                  {
                      arr[k+gap]=arr[k];
                      k-=gap;
                  }
                  //元素放入
                  arr[k+gap]=temp;
              }
          }
      }

}


```
























