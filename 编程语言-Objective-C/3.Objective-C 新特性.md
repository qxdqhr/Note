# OC中类的实际形态是如何的？

- 类是以Class对象的形式存储在代码段之中.

类名:存储的这个类的类名. NSString 

方法存储在类对象之中.如何将方法存储在类对象之中.

# OC中的SEL是什么？

- 叫做 selector 选择器
- 是一种变量类型.，所以要在内存中申请空间存储数据.
- 转定义后，SEL本质是1个结构体. 
- SEL结构体变量可以用存储消息.类似于函数指针
  - 消息类似于方法，OC中调用方法一般被称为发送消息
- 使用SEL对象类发送消息 使编译器不会验证这个方法是否声明，直接向对象发送消息
- 一般作为Class对象的属性，用于将类方法存储到Class对象中



# SEL应如何使用？

- 创建1个SEL对象，将方法的信息存储在这个SEL对象之中.


 ~~~   
 SEL s1 = @selector(方法名);
 ~~~

- SEL使用时不需要加*

![image-20220703122856297](3.Objective-C 新特性.assets/image-20220703122856297.png)

# OC中调用方法的内部原理是怎样的？

- 现有这样一个方法，p1是Person类的对象，sayHi是其实例方法

    ~~~
    [p1 sayHi];
    ~~~

1. 先获取 p1 实例对象，并在 Person Class 对象中寻找方法sayHi方法的SEL对象 ，也叫SEL消息.
2. 将这个SEL消息发送给p1对象.
3. 这个时候,p1对象接收到这个SEL消息以后 就知道要调用方法
4. 根据对象的isa指针找到存储类的类对象.
5. 找到这个类对象以后 在这个类对象中去搜寻是否有和传入的SEL数据相匹配的.
       如果有 就执行  如果没有再找父类 直到NSObject




​      OC最重要的1个机制:消息机制.
​      调用方法的本质其实就是为对象发送SEL消息.
​      [p1 sayHi]; 为p1对象发送1条sayHi消息.

  5. 重点掌握:
     1).方法是以SEL对象的形式存储起来.
     2).如何拿到存储方法的SEL对象.

 

  6. 手动的为对象发送SEL消息.

     1). 先得到方法的SEL数据.

     2). 将这个SEL消息发送给p1对象.

     ​    调用对象的方法 将SEL数据发送给对象.
     ​    - (id)performSelector:(SEL)aSelector;

        Person *p1 = [Person new];
        SEL s1 = @selector(sayHi);
        [p1 performSelector:s1]; 与 [p1 sayHi]效果是完全一样的.


​     3). 调用1个对象的方法有两种.
​       1). [对象名 方法名];

​       2). 手动的为对象发送SEL消息.


  7. 注意事项:


​     1). 如果方法有参数 那么方法名是带了冒号的.
​      
​     2). 如果方法有参数,如何传递参数.
​         那么就调用另外1个方法.

 - (id)performSelector:(SEL)aSelector withObject:(id)object;
 - (id)performSelector:(SEL)aSelector withObject:(id)object1 withObject:(id)object2;


​     3). 如果有多个参数 

---------------------------------

 1. 类是以Class对象的形式存储在代码段.

 2. 如何取到存储类的类对象.

 3. 如何使用类对象调用类的类方法 

 4. 方法是以SEL数据的形式存储的.

 5. 调用方法的两种方式.


   顿悟.

 


 */