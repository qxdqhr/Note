# 2.Linux环境及基础命令

1.开发环境
1)Linux的开发环境分为 编辑器vi /vim /emacg /gedit 编译器gcc /cc 调试器GDB /dbx 项目管理工具 Makefile /make 2)Linux中也有集成开发软件(IDE)

2.Ubuntu系统是一种Linux系统

3.关于Ubuntu版本(半年进行一次版本更新) 1)年份划分 双数年份版本长期支持版，一般能支持5年 单数年份版本短期支持版，一般能支持2-3年 2)月份划分 04月版本稳定版 10月版本过渡版 3)常见版本 16.04 16.10 17.04 17.10 18.04 … 开发一般选用16.04版本或18.04版

4.当启动Ubuntu是显示出现内部错误的处理办法（VMware虚拟机) win主系统中，进入控制面板，管理工具，服务，VM Authorization，右键启动

5.GNU计划Free–开源

6.关于文件系统(电脑是如何管理文件的) FAT32 存在单文件传输大小限制(单文件大小不超过4G) NTFS 不存在文件大小限制

7.shell命令解析器 1.终端（termimal)，作用是提供一个命令的输入输出环境，在linux下使用组合键ctrl+alt+T打开的就是终端。 2.shell 1)是一个命令行解释器(一个正在运行的进程),是linux内核的一个外壳,负责外界与linux内核的交互 2)shell接收用户或者其他应用程序的命令,然后将这些命令转化成内核能理解的语言并传给内核 内核执行命令完成后将结果返回给用户或者应用程序 3)当你打开一个terminal时，操作系统会将terminal和shell关联起来 4)当我们在terminal中输入命令后，shell就负责解释命令。

```
cat+空格+/etc/shells，查看系统下的全部shell
使用echo+空格+$SHELL，可显示当前终端使用的是哪一个命令解析器
```

=================================================================================================== 8.有关于Linux终端中的基本命令 1) 终止当前进程
Control 键+c键

```
2)  查看文件内容
    cat+空格+文件名

3)  显示变量内容
    echo+空格+$变量名

4)  命令回显(此处为字符串回显)
    echo+空格+一段字符串

    输出字符串重定向至文件
    echo+空格+一段字符串+空格+>+文件名

5)  查看当前目录下文件
    ls

    查看当前目录下所有(隐藏)文件
    ls+空格+-a(以 . 开始的文件为隐藏文件)

    查看当前目录下所有文件的详细信息
    ls+空格+-l

    查看当前目录下所有(+隐藏)文件的详细信息
    ls+空格+-a+-l

    查看特定目录下文件
    ls+目录名

    递归的查看目录下文件
    ls+R每遇文件夹就打开，遇文件时打印文件名

    显示文件树
    tree

6)  更改当前目录
    cd+目录名

    回到home目录
    cd

    回到根目录
    cd+/

    回到刚才所在的目录
    cd+-

7)  打印当前用户目录
    pwd

8)  暂时性获得超级用户权限
    sudo

9)  查找命令位置(显示命令所在路径)
    which

10) 创建文件夹(可以一次创建多个文件夹)
    mkdir+文件夹名

    创建层级文件夹
    mkdir+-p+文件夹名

11) 创建新文件/刷新已存在文件创建时间
    touch+文件名

    创建多个文件
    touch+文件名+文件名+文件名....

12) 只能删除空文件夹
    rmdir

13) 重命名
    mv+空格+旧文件名+空格+新文件名

    移动文件
    mv+空格+文件名+空格+目录名

14) 删除
    rm

    递归的删除文件夹
    rm+文件夹名+-r

    强制删除
    rm+-rf

    通配符删除删除所有文件名首字母为a的文件
    rm+a*+-r

15) 复制文件
    cp+文件名

    复制目录
    cp+目录名+-r

16) 从头查看当前文件文本内容退出后显示
    more+文件名

    从末尾查看当前文件文本内容退出后不显示
    less+文件名

17) 查看选定前几行
    head+-n+文件名(n为要查看的行数)

    查看选定后几行
    tail+-n+文件名(n为要查看的行数)

18) 打开一个文件/创建一个新文件(没有此文件时)
    vi+文件名

19) 查看磁盘使用情况(GB显示)
    df+空格+--block-size=GB

    查看磁盘使用情况(MB显示)
    df+空格+--block-size=MB

20) 查看当前登录用户
    whoami

    显示登陆用户信息(登录名，使用终端，登陆时间)
    who

21) 计算文件属性数
    wc

    计算文件字节数
    wc+c

    计算文件行数
    wc+l

    计算文件单词数
    wc+w

22) 查看目录大小(粗略)以K为单位(值为4K的整数倍)
    du+hk+目录名

    查看目录大小(粗略)以B为单位
    du+hb+目录名

    查看目录大小(粗略)以M为单位
    du+hm+目录名

23) 更改文件权限(权限数)
    chmod+权限数+文件名

    更改文件权限(特定用户权限)
    chmod +特定用户(o,others/a,all/u,user/g,group)+操作符(+赋，-取消，=赋并取消已有)+某一权限(r读/w写/x执行)

24) 更改文件目录所在用户组(需要提权)
    sudo+chown+新属主++新属组+文件名

25) 改变文件的用户组
    查看当前系统环境变量
    env
26
```

终端显示操作命令 切换终端页面全屏/窗口 F11键 终端中字体字号变大 Control键，shift键，+键 终端中字号变小 Control 键，-键 清屏(向下移动以空出一个空屏) Control 键，l键 向上切换历史命令 Control 键，P键(pre) 向下切换历史命令 Control 键，N键(next) 回到当前行行首(向下移动以空出一个空屏) Control 键，A键 回到当前行行尾(向下移动以空出一个空屏) Control 键，E键 光标右移(forward) Control 键，F键 光标左移(backward) Control 键，B键 查看历史命令 history(只能存储有限条命令) 快速切换历史命令 方向键上/下 向上翻页(向上移动一个空屏 Shift+PageUp 向下翻页(向下移动一个空屏 Shift+PageDown

VI中快捷命令

到文件尾 G

11.终端中直接显示的部分分析 登陆用户名@主机名$ 表示一段登录用户同名目录为根目录/home/colin的简称。 $表示当前用户为普通用户 #表示当前用户为root用户(超级权限用户)

10.命令的简单应用 获取鼠标的输入轨迹

12.Linux中的文件 1) Linux中无盘符文件夹概念，仅有目录。 无论在Windows还是Linux下文件夹/目录结构均为树形结构 2)不同的文件的不同颜色
蓝色 目录文件 红色 压缩文件 白色 普通文件 绿色 可执行文件 (类似于Windows系统下的可执行文件，一些命令是可执行文件，命令可以被人为添加) 纯黄色字符设备文件 黑底红色错误文件 3)隐藏文件都是名字最前面带有一个 . 4)相对路径与绝对路径 向配置文件中添加路径的时候必须添加绝对路径

13.文件详细信息的解释(ls-l 查看当前目录下文件详细信息)

权限 链接数 所属主 所属组 文件大小 修改时间 文件名

权限 见权限表格 链接数 所属主 属于哪个用户(属主) 所属组 所在组元素(属组)；不同组对文件管理权限不同 文件大小 以字节为单位，但不表示实际大小，仅代表大小的近似值(PS一点也不近似) 修改时间 最后修改的文件的系统时间 文件名 权限
d rwx rwx rwx 文件类型 当前用户User权限 同组用户Group权限 其他用户Others权限

文件类型 d(directory) - ？(unknown) l(link) c(character) b(block) s(socket) p(pipe) 目录文件 普通 文件 未知类型文件 符号链接 文件 字符设备文件 块设备文件 套接字文件 管道文件 用户权限 r 表示读取权限 w 表示写权限 x 表示执行权限 有权限写字母,无权限写-

权限的简略表示三组权限的有无可转化为三个数字表示 755权限 d rwx r-x r-x 111 101 101 7 5 5

14.组的概念与应用 组的概念用以限制不同类型用户对同一文件的修改权限。

组间关系如图所示， 以colin用户为属主的文件， Alex相对于此文件为同组用户， Coco相对于此文件为其他用户 以Alex用户为属主的文件， colin相对于此文件为同组用户， Coco相对于此文件为其他用户 以Coco用户为属主的文件， Colin，Coco相对于此文件均为其他用户 所有文件存在的共性不允许其他用户对文件进行写操作(保证文件安全性)

15.链接 建立文件链接的目的是能够通过多种方式以访问文件 1)软链接(符号链接) 定义 软链接文件类似于 Windows 中可执行文件的快捷方式。 实际上是一个特殊的文本文件，包含有另一文件的位置信息。 创建符号连接方法ln -s 源文件名字 连接名字 形成链接后，删除源文件会导致链接文件不可用； 删除源文件后链接失效，此时重新创建一个同名源文件，连接会重新有效； 但是，连接已经不是原来的链接 链接数的大小去取决于链接的源文件名的大小，eghello 链接数为5，haha链接数为4 举例 A 是 B 的软链接(A 和 B 都是文件名) A 的目录项中的 inode 节点号与 B 的目录项中的 inode 节点号不相同， A 和 B 指向的是两个不同的 inode，继而指向两块不同的数据块。 但是 A 的数据块中存放的只是 B 的路径名(可以根据这个找到 B 的目录项)。 A 和 B 之间是主从关系， 如果 B 被删除了，A 仍然存在(因为两个是不同的文件)，但指向的是一个无效的链接。

2)硬链接 定义 硬链接指通过索引节点来进行链接。 索引节点号 Linux文件系统给保存在磁盘分区中的任意类型文件分配的一个编号 作用 允许一个文件拥有多个有效路径名，用户可以建立硬连接到重要文件，防止误删。 创建硬连接方法 ln 源文件名字 连接名字 特性 每创建一个硬连接之后，硬链接计数+1 每删除一个硬连接之后，硬链接计数-1，当文件的链接数为0时，系统回收此文件的空间 文件真正删除的条件是与之相关的所有硬连接文件均被删除。 不允许对目录进行硬链接 举例 A 是 B 的硬链接(A 和 B 都是文件名)， 则 A 的目录项中的 inode 节点号与 B 的目录项中的 inode 节点号相同， 即一个 inode 节点对应两个不同的文件名，两个文件名指向同一个文件， A 和 B 对文件系统来说是完全平等的。 删除其中任何一个都不会影响另外一个的访问。

16.VI中的一些操作 ！q 强制退出不保存 wq 退出并保存

17.挂载操作(U盘、光盘、服务器、系统、等) 将U盘作为Linux系统中的一个目录 在虚拟机设置中的U盘设置为USB3.0 连接U盘 Ubuntu默认直接挂载，需要先执行卸载() 自己执行挂载操作的步骤 执行 sudo fdisk -l 查看U盘的名称 执行卸载umount 卸载成功后 执行sudo mount U盘名 /mnt(默认路径) 18.压缩包的使用

19.进程 Crtl z挂起当前进程 jobs查看进程作业号 编译默认生成a.out 杀死进程 kill -9 进程号

20.将自己的可执行文件添加至命令 在 .bashrc中添加 先编译好要作为命令执行的可执行文件，

在系统中添加 在/etc/profile文件中加入文件路径

服务器

帮助文档 man 有同名命令先看命令在看函数 在

权限掩码 生成权限掩码的操作先 取反 后 位与 权限掩码的意义保证生成文件对于Others用户没有写权限，保证文件的安全性 002= 000 000 010 取反 = 111 111 101 位与 = xxx xxx x0x 使 【Others用户】 对应文件的 【写权限位】 的 【权限】 和 【任何数】 位与均为0； 666 002 664 000 666 777 000 666 000 234 442

666=110 110 110 002=000 000 010 664=110 110 100

666=110 110 110 000=000 000 000 666=110 110 110

666=110 110 110 777=111 111 111 000=000 000 000

666=110 110 110 234=010 011 110 442=100 100 010