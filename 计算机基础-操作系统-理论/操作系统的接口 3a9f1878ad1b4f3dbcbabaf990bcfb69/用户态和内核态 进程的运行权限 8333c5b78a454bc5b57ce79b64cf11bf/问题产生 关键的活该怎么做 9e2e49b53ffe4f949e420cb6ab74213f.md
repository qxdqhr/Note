# 问题产生:关键的活该怎么做

- 关键的活得关键的人来做
- 不关键的活实习生就能做

# 类比

1. 程序在运行时需要进行各种各样的操作,这些工作都是由CPU来完成
2. 如果把电脑运行流程比做工厂的运作流程,即
    - CPU==工人
    - 操作系统 ==管理者/老板
    - 进程==正在进行的工作(现有工作清单)
    - 程序==未执行的工作(将来工作计划)
3. **工人(CPU)**在得到**管理者(操作系统)**的**将来工作计划(程序)**后,就要开始工作
4. 工作过程中,原有的**工作计划(程序)**就会变成**正在进行的工作(进程)**
5. 同时,执行工作时,可能会遇到各种各样的工作
    1. 比较关键的,出错影响较大的工作 (权级很高的操作)
    2. 出错影响不大的工作 (权级较低的操作)
6. 这时,为防止工人在执行这些工作时出错,**管理者(操作系统)**设定了一个这样的规则:
    1. 如果工人遇到了**普通的非关键性的工作**,就让其正常执行
    2. 如果工人遇到了**较为关键的工作**,就先请示一下**管理者(操作系统),** 提高自己的执行权限,再执行对应的关键工作,执行完成后,通知管理者,收回自己的权限
        1. 工人在默认情况下只有一些最基本的权限
7. 这样在遇到不同种类的工作时,工人就能流畅的执行不同权级的工作了

# 用户态和内核态:

- 进程的运行权限状态分为两种
    - 用户态:权级较低的状态(举例中的5.b)
    - 内核态:权级较高的状态(举例中的5.a)
- 用户态和内核态的切换(CPU切换权级状态)==工人在进行向管理者请示的行为

# 注意

- 权级状态和进程的生命周期的几个状态是不同的